<header [class]="computedHeaderClasses()" role="banner" [attr.data-scrolled]="state().isScrolled">
  <div
    [class]="
      computedContentClasses() +
      ' ank-container ank-maxWidth-7xl ank-marginInline-auto ank-gap-24px ank-justifyContent-spaceBetween'
    "
  >
    <!-- Logo Section -->
    @if (config().showLogo) {
    <div class="ank-display-flex ank-alignItems-center">
      @if (config().logoImgUrl) {
      <a [href]="config().logoUrl" [attr.target]="config().logoUrlIsExternal ? '_blank' : null">
        <img [src]="config().logoImgUrl" [alt]="config().logoText" class="ank-maxWidth-100per ank-height-auto" />
      </a>
      } @else {
      <a
        [href]="config().logoUrl"
        class="ank-fs-1_5rem ank-fs-md-2rem ank-fontWeight-bold ank-color-titleColor ank-ms-1rem ank-tde-none"
      >
        {{ config().logoText }}
      </a>
      }
    </div>
    }

    <!-- Mobile Controls (Theme, Language, Menu) -->
    <div class="ank-display-flex ank-display-md-none ank-alignItems-center ank-gap-8px ank-mr-24px">
      <!-- Mobile Theme Toggle -->
      @if (config().showThemeToggle) {
      <button
        id="toggleThemeMobile"
        type="button"
        (click)="toggleTheme()"
        class="{{
          themeGradientClasses
        }} ank-p-8px ank-borderRadius-0_75rem ank-border-none ank-display-flex ank-alignItems-center ank-justifyContent-center ank-width-36px ank-height-36px ank-fs-1rem"
      >
        {{ themeService.currentTheme() === "dark" ? "‚òÄÔ∏è" : "üåô" }}
      </button>
      }

      <!-- Mobile Language Toggle -->
      @if (config().showLanguageToggle) {
      <button
        type="button"
        (click)="toggleLanguage()"
        class="ank-p-8px ank-borderRadius-0_75rem ank-border-none ank-bg-accentColor ank-color-secondaryTextColor ank-ts-200 ank-bgHover-secondaryAccentColor ank-colorHover-secondaryTextColor ank-display-flex ank-alignItems-center ank-justifyContent-center ank-width-36px ank-height-36px ank-fs-1rem ank-fontWeight-bold"
      >
        {{ languageService.languageLabel() }}
      </button>
      }

      <!-- Separator -->
      <div class="ank-width-1px ank-height-24px ank-bg-textColorOPA__0_2 ank-mx-8px"></div>

      <!-- Mobile Menu Button -->
      @if (config().showNavigation) {
      <button
        type="button"
        (click)="toggleMobileMenu()"
        aria-haspopup="true"
        aria-controls="mobile-primary-navigation"
        [attr.aria-expanded]="state().isMobileMenuOpen"
        class="ank-padding-8px ank-me-12px ank-borderRadius-0_75rem ank-border-none ank-bg-secondaryBgColor ank-color-textColor ank-width-36px ank-height-36px ank-display-flex ank-alignItems-center ank-justifyContent-center"
      >
        <span class="ank-display-flex ank-alignItems-center ank-justifyContent-center ank-width-20px ank-height-20px">
          {{ state().isMobileMenuOpen ? "‚úï" : "‚ò∞" }}
        </span>
      </button>
      }
    </div>

    <!-- Desktop Navigation -->
    @if (config().showNavigation) {
    <nav
      class="ank-display-none ank-display-md-flex ank-alignItems-center ank-jc-spaceMINbetween ank-gap-32px ank-w-calcSD100per__MIN__17remED ank-mx-1rem"
      aria-label="Primary"
    >
      @if (config().navItems?.length) {
      <ul
        class="ank-display-flex ank-gap-28px ank-listStyle-none ank-margin-0 ank-padding-0 ank-flexWrap-wrap ank-justifyContent-spaceMINevenly ank-alignItems-center"
      >
        @for (item of config().navItems; track trackByNav($index, item)) {
        <li class="ank-position-relative">
          <a
            [href]="item.href"
            [attr.target]="item.isExternal ? '_blank' : null"
            class="ank-textDecoration-none ank-fontWeight-500 ank-letterSpacing-05px ank-position-relative ank-paddingInline-4px ank-paddingBlock-4px ank-transition-color ank-duration-200"
            [class.ank-color-accentColor]="item.isActive"
            [class.ank-color-textColor]="!item.isActive"
            [class.ank-fwg-bold]="!item.isActive"
            [class.ank-opacity-80]="!item.isActive"
            (click)="$event.preventDefault(); selectNav(item)"
          >
            {{ item.label }}
            @if (item.isExternal) { <span aria-hidden="true">‚Üó</span> }
            <span
              class="ank-position-absolute ank-left-0 ank-right-0 ank-bottom-0 ank-height-2px ank-bg-accentColor ank-transform-scaleX-0 ank-transformOrigin-left ank-transition-transform ank-duration-300"
            ></span>
          </a>
        </li>
        }
      </ul>
      }
      <div class="ank-display-none ank-display-md-flex ank-gap-12px">
        <!-- Desktop Theme Toggle -->
        @if (config().showThemeToggle) {
        <button
          id="toggleTheme"
          type="button"
          (click)="toggleTheme()"
          class="{{
            themeGradientClasses
          }} ank-p-0_5rem__1_5rem ank-borderRadius-1rem ank-border-none ank-display-flex ank-alignItems-center
          "
        >
          {{ themeService.currentTheme() === "dark" ? "‚òÄÔ∏è" : "üåô" }}
        </button>
        }

        <!-- Desktop Language Toggle -->
        @if (config().showLanguageToggle) {
        <button
          type="button"
          (click)="toggleLanguage()"
          class="ank-p-0_5rem__1_5rem ank-borderRadius-1rem ank-border-none ank-bg-accentColor ank-color-secondaryTextColor ank-ts-200 ank-bgHover-secondaryAccentColor ank-colorHover-secondaryTextColor"
        >
          {{ languageService.languageLabel() }}
        </button>
        }
      </div>
    </nav>
    }
  </div>

  <!-- Mobile Menu -->
  @if (state().isMobileMenuOpen) { @defer {
  <div
    id="mobile-primary-navigation"
    class="ank-display-md-none ank-bg-bgColor ank-borderTop-1px ank-borderColor-secondaryBgColor ank-padding-20px ank-space-y-20px ank-animation-fadeInDown"
  >
    @if (config().navItems?.length) {
    <nav>
      <ul class="ank-listStyle-none ank-padding-0 ank-margin-0 ank-display-flex ank-flexDirection-column ank-gap-8px">
        @for (item of config().navItems; track trackByNav($index, item)) {
        <li>
          <a
            [href]="item.href"
            [attr.target]="item.isExternal ? '_blank' : null"
            class="ank-display-block ank-padding-8px ank-borderRadius-0_75rem ank-textDecoration-none ank-transition-bgColor ank-duration-50"
            [class.ank-bg-secondaryBgColor]="item.isActive"
            [class.ank-color-accentColor]="item.isActive"
            [class.ank-color-textColor]="!item.isActive"
            (click)="selectNav(item); toggleMobileMenu()"
          >
            {{ item.label }}
            @if (item.isExternal) { <span aria-hidden="true">‚Üó</span> }
          </a>
        </li>

        }
      </ul>
    </nav>
    }
  </div>
  } }
</header>
